// ...existing code...
# ğŸŒ± AgroApp â€” API AgrÃ­cola

Backend desarrollado con Django y Django REST Framework para gestionar cultivos, cosechas, pÃ©rdidas agrÃ­colas y generar reportes.

---

## ğŸ“Œ DescripciÃ³n

AgroApp es una API REST para la gestiÃ³n operativa de una finca o empresa agrÃ­cola. Permite:

- CRUD de cultivos, cosechas y pÃ©rdidas.
- CÃ¡lculo de indicadores y reportes por temporada.
- DocumentaciÃ³n automÃ¡tica con Swagger/Redoc.
- Arquitectura modular y preparada para autenticaciÃ³n y permisos.

---

## ğŸ“¦ TecnologÃ­as

- Python 3.12+
- Django 5.x
- Django REST Framework
- drf-yasg (Swagger / Redoc)
- SQLite (por defecto) / PostgreSQL (opcional)
- virtualenv o venv

---

## ğŸ“ Estructura del proyecto (resumen)

agroapp/
â”œâ”€â”€ cultivos/
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â””â”€â”€ urls.py
â”œâ”€â”€ cosechas/
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â””â”€â”€ urls.py
â”œâ”€â”€ perdidas/
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â””â”€â”€ urls.py
â”œâ”€â”€ reportes/
â”‚   â”œâ”€â”€ views.py
â”‚   â””â”€â”€ urls.py
â””â”€â”€ config/
    â”œâ”€â”€ settings.py
    â””â”€â”€ urls.py

---

## âš™ï¸ InstalaciÃ³n (Windows)

1. Clonar repositorio
```bash
git clone https://github.com/tu_usuario/agroapp.git
cd agroapp
```

2. Crear y activar entorno virtual (Windows)
```powershell
python -m venv v_agroapp
v_agroapp\Scripts\activate
```

3. Instalar dependencias
```bash
pip install -r requirements.txt
```

4. Migrar base de datos
```bash
python manage.py makemigrations
python manage.py migrate
```

5. Ejecutar servidor
```bash
python manage.py runserver
```

---

## ğŸ“Š Endpoints principales (base: /api/)

- Cultivos â€” /api/cultivos/
  - GET /api/cultivos/ â€” Listar cultivos
  - POST /api/cultivos/ â€” Crear cultivo
  - PUT /api/cultivos/{id}/ â€” Actualizar cultivo
  - DELETE /api/cultivos/{id}/ â€” Eliminar cultivo

- Cosechas â€” /api/cosechas/
  - GET /api/cosechas/ â€” Listar cosechas
  - POST /api/cosechas/ â€” Registrar cosecha
  - GET /api/cosechas/?lote=XYZ â€” Filtrar por lote

- PÃ©rdidas â€” /api/perdidas/
  - GET /api/perdidas/ â€” Listar pÃ©rdidas
  - POST /api/perdidas/ â€” Registrar pÃ©rdida
  - PUT /api/perdidas/{id}/ â€” Actualizar pÃ©rdida
  - DELETE /api/perdidas/{id}/ â€” Eliminar pÃ©rdida

- Reportes â€” /api/reportes/
  - GET /api/reportes/indicadores/?inicio=YYYY-MM-DD&fin=YYYY-MM-DD
    - Retorna: rendimiento_total, porcentaje_promedio_perdida, rendimiento_neto_estimado (y otros indicadores segÃºn implementaciÃ³n).
  - GET /api/reportes/temporada/?anio=2024&temporada=verano
    - Retorna mÃ©tricas agrupadas por temporada.

---

## ğŸ“ˆ Temporadas (definiciÃ³n por meses)

- primavera: septiembre â€” noviembre (9â€“11)
- verano: diciembre â€” febrero (12â€“2)
- otoÃ±o: marzo â€” mayo (3â€“5)
- invierno: junio â€” agosto (6â€“8)

(Adaptar a la regiÃ³n si es necesario.)

---

## ğŸ” DocumentaciÃ³n de la API

- Swagger UI: /swagger/
- Redoc: /redoc/
- JSON Schema (OpenAPI): /swagger.json

---

## ğŸ”’ Seguridad (configurable)

La API estÃ¡ preparada para integrar:
- AutenticaciÃ³n con Token
- JWT (djangorestframework-simplejwt)
- CORS (django-cors-headers)
- Permisos por rol (IsAuthenticated, custom permissions)

(En desarrollo por defecto pueden estar desactivados.)

---

## ğŸ§ª Pruebas

- Se recomienda usar Django TestCase y las utilidades de rest_framework.test.APIClient.
- Se puede generar una colecciÃ³n Postman (postman_collection.json) para pruebas manuales â€” disponible bajo peticiÃ³n.

---

## ğŸ§¾ Recomendaciones adicionales

- AÃ±adir un archivo .env y usar django-environ para configurar SECRET_KEY, DATABASE_URL y opciones de despliegue.
- Configurar logging y manejo de errores para producciÃ³n.
- Crear documentaciÃ³n de despliegue (Docker / Gunicorn / Nginx) si se va a desplegar en servidor.

---

## ğŸ§‘â€ğŸ’» Autor y licencia

- Autor: Alicia â€” AgroApp Developer
- Licencia: MIT

---

Â¿Deseas que genere alguno de los siguientes elementos?
- âœ… ColecciÃ³n Postman (postman_collection.json)
- âœ… requirements.txt completo
- âœ… Diagrama UML bÃ¡sico
- âœ… README en PDF
- âœ… Banner/logo para el repositorio

Indica quÃ© prefieres y lo genero.